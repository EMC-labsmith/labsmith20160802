<!DOCTYPE html>
<html>
  {% load staticfiles %}


  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <!-- Bootstrap -->
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link rel="shortcut icon" href="{% static 'pics/logo.png' %}" />
    <link rel="Bookmark" href="{% static 'pics/logo.png' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'index_files/flavr.css' %}"/>
    <!--link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.1/css/bootstrap-select.css" /-->
    <link rel="stylesheet" href="{% static 'css/bootstrap-select.css' %}"/>
    <!-- <script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script> -->
    <!-- <link href="{% static 'css/hello.css' %}" rel="stylesheet"> -->
    <!-- <script src="{% static 'js/autocomplete.js' %}"></script> -->
    <title>Labsmith</title>
    <!--script type="text/javascript" src="../static/js/jquery-1.7.2.js"></script版本太低-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!--script src="../static/index_files/bootstrap.min.js"></script-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.1/js/bootstrap-select.js"></script>
    <!--script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script-->


    <script type="text/javascript">   
    jQuery(document).ready(function(){
       jQuery(".minusNum").click(function(){                  
              var num=jQuery(this).parent().parent().find("input[type='text']").val();             
              if(jQuery.trim(num)=="" || isNaN(num) || parseInt(num) <= parseInt(0)){
                     
                     jQuery(this).parent().parent().find("input[type='text']").val(0);
                     return ;
              }             
              jQuery(this).parent().parent().find("input[type='text']").val(parseInt(num)-1);
              })
        jQuery(".plusNum").click(function(){
              var num=jQuery(this).parent().parent().find("input[type='text']").val();
              
              if(jQuery.trim(num)=="" || isNaN(num) || parseInt(num) < parseInt(0)){
                             
                  jQuery(this).parent().parent().find("input[type='text']").val(0);
                  return ;
              }             
              jQuery(this).parent().parent().find("input[type='text']").val(parseInt(num)+1);
              })
        jQuery(".reserveSubmit").click(function(){                  
              var num=jQuery(this).parent().prev("td").find("input[type='text']").val();             
              if(jQuery.trim(num)=="" || isNaN(num) || parseInt(num) <= parseInt(0)){
                     
                     jQuery(this).parent().parent().find("input[type='text']").val(0);
                     return ;
              }            
              var deviceId=jQuery(this).attr("deviceId");
              jQuery("#slicsfpNum").val(num); 
              jQuery("#deviceId").val(deviceId); 
              jQuery("#slicsfpForm").submit();
              })
        jQuery(".releaseSubmit").click(function(){                  
              var num=jQuery(this).parent().prev("td").find("input[type='text']").val();             
              if(jQuery.trim(num)=="" || isNaN(num) || parseInt(num) <= parseInt(0)){
                     
                     jQuery(this).parent().parent().children("td").eq(5).find("input").val(0);                     
                     return ;
              }            
              var deviceId=jQuery(this).attr("deviceId");              
              var info=jQuery(this).parent().parent().children("td").eq(2).find("input").val();
              if(jQuery.trim(info)=="" ){                 
                 jQuery(this).parent().parent().children("td").eq(2).find("div").show();                 
                 return;
              }
              jQuery("#slicsfpNum").val(num); 
              jQuery("#deviceId").val(deviceId); 
              jQuery("#info").val(info); 
              jQuery("#slicsfpForm").submit();
              })


       }); 
</script>
  
  </head>
  <style type="text/css">
.DivSelect
{
     position: relative;
     background-color: transparent;
     width:   140px;
     height: 17px;
     overflow: hidden;
     border-width:0px;
     border-top-style: none;
     border-right-style: none;
     border-left-style: none;
     border-bottom-style: none;
}
#myInput {
  background-image: url('/static/pics/search.png');
  background-position:1px 1px ;
  background-repeat: no-repeat;
  width: 100%;
  font-size: 16px;
  padding: 5px 10px 5px 40px;
  border: 2px solid #ddd;
  margin-bottom: 6px;
}
.Off{ background-color:lightblue; padding:100px;}
.form-control-user {
    display: block;
    width: 100%;
    height: 34px;
    padding: 1px 10px;
    font-size: 14px;
    line-height: 1.42857143;
    color: #555;
    background-color: #fff;
    background-position: 100% 50%;
    background-repeat: no-repeat;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
    -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
}
</style>


    <!-- <body onload="autoRowSpan(tabserver,0,0)" > -->
    <body>
    <input id="tab-option-input" style="display: none;" value="{{tab}}"/>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <h3 class="navbar-text">Welcome to Platform Team Labsmith</h3>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <!-- <li><a href="#">Link</a></li> -->
            
            <li class="dropdown">
            {% ifequal currentuser.get_full_name AnonymousUser %}
             <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Guest<span class="caret"></span></a>
                 <ul class="dropdown-menu" role="menu">
                    <li><a href="/login/">Log in</a></li>
                    <li><a href="/admin/">Admin Panel</a></li>
            
                  </ul>
            {% else %}
             <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">{{currentuser.get_full_name}}<span class="caret"></span></a>
                 <ul class="dropdown-menu" role="menu">
                    <!-- <li><a href="/login/">Log in</a></li> -->
                    <li><a href="/admin/">Admin Panel</a></li>
                    <li><a href="/labsmith/changePWD/">Change Password</a></li>
                    <li class="divider"></li>
                    <li><a href="/logout/">Log out</a></li>
                  </ul>    
            {% endifequal %}
              
            </li>
          </ul>
        </div>
      </div>  
    </nav>
	<div style="width:100%">
	<div style="padding-left:10px;width:10%">		
			<dl class="nav navbar-nav">
				<!-- dt><a href="https://teamforge6.usd.lab.emc.com/sf/wiki/do/viewPage/projects.c4cb_lx/wiki/OberonInfoInLab" target="_blank" style="text-decoration: none"><button class="btn btn-default active btn-block" type="button">Lab Wiki</button></a></dt>
				
        <dt>
        <a href="statusResult/" target="_blank" style="text-decoration: none"><button class="btn btn-default active btn-block"  type="button">Poll array status</button></a></dt> -->
        <dd><img src="/static/pics/circle.png" ></dd><hr>
		<!-- <dd style="line-height:0px"><a href="http://10.244.16.120" target="_blank">NPE Equipment</a></dd><hr> -->
        <!-- <dd style="line-height:0px"><a href="https://teamforge6.usd.lab.emc.com/sf/wiki/do/viewPage/projects.c4cb_lx/wiki/OberonInfoInLab" target="_blank">Lab Wiki</a></dd><hr> -->

        <dd style="line-height:0px"><a href="IPResult/" target="_blank">Equipment Details</a></dd><hr>
        <dd style="line-height:0px"><a href="http://10.62.34.99" target="_blank">SOLMUX log</a></dd><hr>
        <dd style="line-height:0px"><a href="statusResult/" target="_blank">Poll Array Status</a></dd><hr>
        <dd style="line-height:0px"><a href="RackLayout/" target="_blank">Rack Layout</a></dd><hr>
        <dd style="line-height:0px"><a href="pxeGuide/" target="_blank">PXE Guidence</a></dd><hr>
		<dd style="line-height:0px"><a href="mailto:China.COE.EMSD.Platform.Scrum.Bringup@emc.com">Contact us</a></dd><hr>
            </dl>
     
	</div> 
	
    <!-- <div class="container" style="display:block"> -->
		<div class="container modalDialog" style="float:left;width:85%">
      <!-- <form action="/labsmith/" method="POST"> -->
        {% csrf_token %}
      <!-- {% if msg %} -->
      <!-- <div class="alert alert-success" role="alert">{{error}}</div> -->
      <!-- {% endif %} -->
      <!-- <form method="post" action = "" class="form-signin"> -->
		
        <ul class="nav nav-tabs"  id="switchtable">
          
          <li role="presentation" id="OB-tab-li"><a href="#OB" id="OB-tab" role="tab" data-toggle="tab" target="_blank">Oberon</a></li>
          <li role="presentation" id="BC-tab-li"><a href="#BC" id="BC-tab" role="tab" data-toggle="tab">Beachcomber</a></li>
          <li role="presentation" id="ROCKIES-tab-li"><a href="#ROCKIES" id="ROCKIES-tab" role="tab" data-toggle="tab">Rockies</a></li>
          <li role="presentation" id="BEARCAT-tab-li"><a href="#BEARCAT" id="BEARCAT-tab" role="tab" data-toggle="tab">Bearcat</a></li>
          <li role="presentation" id="OB-DAE-tab-li"><a href="#OB-DAE" id="OB-DAE-tab" role="tab" data-toggle="tab" target="_blank">DAE</a></li>
          <li role="presentation" id="PDU-tab-li"><a href="#PDU" id="PDU-tab" role="tab" data-toggle="tab">PDU|SWITCH</a></li>
          <li role="presentation" id="SERVER-tab-li"><a href="#SERVER" id="SERVER-tab" role="tab" data-toggle="tab">Server</a></li>
          <li role="presentation" id="HOST-IP-tab-li"><a href="#HOST-IP" id="HOST-IP-tab" role="tab" data-toggle="tab">HOST/IP</a></li>
          <li role="presentation" id="SLICSFP-tab-li"><a href="#SLICSFP" id="SLICSFP-tab" role="tab" data-toggle="tab">SLIC|SFP</a></li>  
          
        </ul>
        <div class="tab-content"   >
        <div role="tabpanel" id="OB" class="tab-pane fade in"  >
          <table class="table table-striped">
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:8%">Name</th>
                <th style="width:3%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:15%">Owner</th>
                <th style="width:18%">User</th>
                <th style="width:40%">Info</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
                <th style="width:15%">   </th>
              </tr>
            </thead>
            <tbody>
              {% for device in devices1 %}
              {% ifequal device.isalive True %}
              <tr>
                <td><a href="{{device.link}}" target="_blank">{{device.name}} </a>
                   {% ifequal device.lock True %}
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                <td><span class="hold-time devices1">{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}
                  
                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  
                  {% endifequal %}
                </td>
                <td> <!--4-->
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'edit' device.id %}" method="POST">
                      {% csrf_token %}
                      <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                      <span class="input-group-btn">
                        <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true" ></span></button>
                        <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
           
                      </span>
                    </form>
                  </span>
                  <span style="position:relative;float:right; " class="showspan">
                    <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                    <button type="button" class="btn" style="position:fix;right:10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                  </span>
            </td>
			
            <td> <!--5-->
              {% ifequal device.lock True %}
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">locked</button>
              {% else %}
                {% if device.owner%}
                  {% ifequal device.owner currentuser %}
                    <a href="result?id={{device.id}}&action=2&tab=Oberon" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a>
                    <!--a href="result?id={{device.id}}&action=2" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a-->
                  {% else %}
                    <a href="result?id={{device.id}}&action=1&tab=Oberon" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                  {% endifequal %}
                {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  <!-- <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn=block" type="button">reserv</button></a> -->
                {% endif %}
              {% endifequal %}
            </td>
			
            <td>  <!--6-->
            <a href="{% url 'mainLog'  device.id %}">         
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>


            {% ifequal device.owner currentuser %}
            
            <td>  <!--8-->
              
              <a href="{% url 'pxe' device.id %}">
              <button class="btn btn-info" type="button"><span style="color:white"><b>GO PXE</b></span></button></a>
            </td>


            {% endifequal %}


          </tr>
          {% endifequal %}
          {% endfor %}
          </tbody>
        </table>
        </div>

        <div role="tabpanel" id="OB-DAE" class="tab-pane fade in"  >
          <table class="table table-striped">
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:8%">Name</th>
                <th style="width:3%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:15%">Owner</th>
                <th style="width:15%">User</th>
                <th style="width:40%">Info</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
                <th style="width:15%">   </th>
              </tr>
            </thead>
            <tbody>
              {% for device in devices9 %}
              {% ifequal device.isalive True %}
              <tr>
                <td><a href="{{device.link}}" target="_blank">{{device.name}} </a>
                  {% ifequal device.owner None %}
                   {% ifequal device.lock True %}
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}</td> <!--1-->
                <td><span class="hold-time devices9" >{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}

                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}

                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    </span>
                  {% else %}
                  {{device.user}}

                  {% endifequal %}
                </td>

                <td> <!--4-->
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'edit' device.id %}" method="POST">
                      {% csrf_token %}
                      <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                      <span class="input-group-btn">
                        <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true" ></span></button>
                        <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>

                      </span>
                    </form>
                  </span>
                  <span style="position:relative;float:right; " class="showspan">
                    <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                    <button type="button" class="btn" style="position:fix;right:10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                  </span>
            </td>

            <td> <!--5-->

              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Oberon" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a>
                  <!--a href="result?id={{device.id}}&action=2" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a-->
                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Oberon" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
                  <!-- <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn=block" type="button">reserv</button></a> -->
              {% endif %}
            </td>

            <td>  <!--6-->
            <a href="{% url 'mainLog'  device.id %}">
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>

            <!-- <td>  <!--7-->
            <!-- <a href="{% url 'statusResult'  device.id %}">
            <button class="btn" type="button" ><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></a>
            </td>  -->

            {% ifequal device.owner currentuser %}

            {% endifequal %}


          </tr>
          {% endifequal %}
          {% endfor %}
          </tbody>
        </table>
        </div>
            <div role="tabpanel" id="HOST-IP" class="tab-pane fade in"  >
          <table class="table table-striped">
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:8%">Name</th>
                <th style="width:3%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:15%">Owner</th>
                <th style="width:18%">User</th>
                <th style="width:40%">Info</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
                <th style="width:15%">   </th>
              </tr>
            </thead>
            <tbody>
              {% for device in devices10 %}
              {% ifequal device.isalive True %}
              <tr>
                <td><a href="{{device.link}}" target="_blank">{{device.name}} </a>
                  {% ifequal device.owner None %}
                   {% ifequal device.lock True %}
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}</td> <!--1-->
                <td><span class="hold-time devices10" >{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}

                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}

                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    </span>
                  {% else %}
                  {{device.user}}

                  {% endifequal %}
                </td>

                <td> <!--4-->
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'edit' device.id %}" method="POST">
                      {% csrf_token %}
                      <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                      <span class="input-group-btn">
                        <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true" ></span></button>
                        <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>

                      </span>
                    </form>
                  </span>
                  <span style="position:relative;float:right; " class="showspan">
                    <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                    <button type="button" class="btn" style="position:fix;right:10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                  </span>
            </td>

            <td> <!--5-->

              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Oberon" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a>
                  <!--a href="result?id={{device.id}}&action=2" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a-->
                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Oberon" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
                  <!-- <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn=block" type="button">reserv</button></a> -->
              {% endif %}
            </td>

            <td>  <!--6-->
            <a href="{% url 'mainLog'  device.id %}">
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>

            <!-- <td>  <!--7-->
            <!-- <a href="{% url 'statusResult'  device.id %}">
            <button class="btn" type="button" ><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></a>
            </td>  -->

            {% ifequal device.owner currentuser %}

            {% endifequal %}


          </tr>
          {% endifequal %}
          {% endfor %}
          </tbody>
        </table>
        </div>
        <div role="tabpanel" class="tab-pane fade in" id="BC" >
          <table class="table table-striped" >
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:7%">Name</th>
                <th style="width:3%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:15%">Owner</th>
                <th style="width:15%">User</th>
                <th style="width:40%">Info</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
                <th style="width:15%">   </th>  
              </tr>
            </thead>
            <tbody>
              {% for device in devices2 %}
              {% ifequal device.isalive True %}
              <tr>
               <!--  <td>
                   {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                   <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}
                </td> -->
                <td><a href="{{device.link}}" target="_blank">{{device.name}} </a>
                {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}</td>
                <td><span class="hold-time devices2">{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                <td>
                  {% ifequal device.owner currentuser %}
                  <!--select>
                    {% for deviceuser in deviceusers %}
                    {% ifequal device.user deviceuser %}
                    <option value="{{deviceuser.username}}" selected="selected">{{deviceuser.get_full_name}}</option>
                    {% else %}
                    <option value="{{deviceuser.username}}">{{deviceuser.get_full_name}}</option>
                    {% endifequal %}
                    {% endfor %}
                  </select-->
                    <span class="showspan1">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>

                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}

                  {% endifequal %}
                </td>

                <td>
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'editBeachcomber' device.id %}" method="POST">
                      {% csrf_token %}
                  <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                  <span class="input-group-btn">
                    <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                    <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button> 
                    <!-- <input class="btn btn-primary" type="submit" value="ok"/> -->
                    <!-- <input class="btn dropbtn" type="button" value="cancel"/> -->
 <!-- onClick="location.href='/labsmith/'"/> -->
                  </span>
                </form>
              </span>

              <span style="float:right" class="showspan">
                <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                <button type="button" class="btn" style="position:fix;right:10px; top: 10px;"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                <!-- <button type="button" class="btn" style="position:fix;right:10px">edit</button> -->
              </span>
            </td>
            <td>
              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Beachcomber" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a>
                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Beachcomber" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Beachcomber" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
              {% endif %}
            </td>

            

            
           
            <td> 
            <a href="{% url 'mainLog'  device.id %}">         
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
            <!-- <td> 
            <a href="{% url 'statusResult'  device.id %}"> 
            <button class="btn" type="button" ><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></a>
            </td> -->


            {% ifequal device.owner currentuser %}
            
            <td>
              
              <a href="{% url 'pxe' device.id %}">
              <button class="btn btn-info" type="button" ><span style="color:white"><b>GO PXE</b></span></button></a>
            </td>
            
            {% endifequal %}

          </tr>
          {% endifequal %}
          {% endfor %}
          </tbody>
        </table>

        </div>
        <div  role="tabpanel" class="tab-pane fade in" id="PDU">
          <table class="table table-striped" id="tabpduswitch">
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:8%">Name</th>
                <th style="width:15%">Port</th>
                <th style="width:15%">Owner</th>
                <th style="width:15%">User</th>
                <th style="width:35%">Info</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
                <!-- <th style="width:10%">PXE</th> -->
              </tr>
            </thead>
            <tbody>

              {% for device in devices5 %}    <!--PDU-->
              {% ifequal device.isalive True %}
              <tr>
               <!--  <td>
                   {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                   <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}
                </td> -->
                <td style="border-right:1px solid #d0d0d0"><a href="{{device.link}}" target="_blank">{{device.name}}  </a>
                </td>  <!--1-->
                 <td>
                  {% ifnotequal device.port None%}
                     {{device.port}}
                  {% endifnotequal %}
                  {% ifequal device.owner None %}
                    {% ifequal device.lock True %}  
                      <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                    {% endifequal %}
                  {% endifequal %}</td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                <td> <!--3-->
                  {% ifequal device.owner currentuser %}
                  
           
                  <span class="showspan1">{{device.user}}</span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  {% endifequal %}
                </td>

                <td> <!--4-->
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'editPDU' device.id %}" method="POST">
                      {% csrf_token %}
                      <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                      <span class="input-group-btn">
                        <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                        <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        <!-- <input class="btn btn-primary" type="submit" value="ok"/> -->
                        <!-- <input class="btn dropbtn" type="button" value="cancel" /> -->
                        <!-- onClick="location.href='/labsmith/'"/> -->
                      </span>
                    </form>
                  </span>
                  <span style="float:right" class="showspan">
                    <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                    <button type="button" class="btn" style="position:fix;right:10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    <!-- <button type="button" class="btn" style="position:fix;right:10px">edit</button> -->
                  </span>
                </td>
            <td> <!--5-->
             <!--  {{device.owner}}{{currentuser}} -->
              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=PDU|SWITCH" style="text-decoration: none">
                  <button class="btn btn-primary btn-block" type="button">release</button></a>
                  

                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=PDU|SWITCH" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                   {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=PDU|SWITCH" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
              {% endif %}
            </td>
            <!-- <td> -->
              <!-- <a href="{% url 'pxe' device.id %}"><button class="btn" type="button">GO!</button></a> -->
              <td>  <!--6-->
              <a href="{% url 'mainLog'  device.id %}">         
              <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
          </tr>
          {% endifequal %}
          {% endfor %}

          {% for device in devices8 %}    <!--SWITCH-->
              {% ifequal device.isalive True %}
              <tr>
               <!--  <td>
                   {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                   <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}
                </td> -->
                <td style="border-right:1px solid #d0d0d0">{{device.name}}</td>  <!--1-->
                 <td>
                  {% ifnotequal device.port None%}
                     {{device.port}}
                  {% endifnotequal %}
                  {% ifequal device.owner None %}
                    {% ifequal device.lock True %}  
                      <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                    {% endifequal %}
                  {% endifequal %}</td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                <td> <!--3-->
                  {% ifequal device.owner currentuser %}
                  
           
                  <span class="showspan1">{{device.user}}</span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  {% endifequal %}
                </td>

                <td> <!--4-->
                  <span class="showspan1" style="width:350px;text-align:left;display:inline-block;">{{device.info}}</span>
                  <span class="hidespan"  style="display:none">
                    <form class="input-group" action="{% url 'editPDU' device.id %}" method="POST">
                      {% csrf_token %}
                      <input type="text" class="form-control" value="{{device.info}}" name="info"/>
                      <span class="input-group-btn">
                        <button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                        <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        <!-- <input class="btn btn-primary" type="submit" value="ok"/> -->
                        <!-- <input class="btn dropbtn" type="button" value="cancel" /> -->
                        <!-- onClick="location.href='/labsmith/'"/> -->
                      </span>
                    </form>
                  </span>
                  <span style="float:right" class="showspan">
                    <!-- <img src="{%static 'pics/pencil.png'%}" class="img-responsive" style="position:fix;right:10px" height="27px" width="27px" > -->
                    <button type="button" class="btn" style="position:fix;right:10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    <!-- <button type="button" class="btn" style="position:fix;right:10px">edit</button> -->
                  </span>
                </td>
            <td> <!--5-->
             <!--  {{device.owner}}{{currentuser}} -->
              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=PDU|SWITCH" style="text-decoration: none">
                  <button class="btn btn-primary btn-block" type="button">release</button></a>
                  

                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=PDU|SWITCH" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=PDU|SWITCH" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
              {% endif %}
            </td>
            <!-- <td> -->
              <!-- <a href="{% url 'pxe' device.id %}"><button class="btn" type="button">GO!</button></a> -->
              <td>  <!--6-->
              <a href="{% url 'mainLog'  device.id %}">         
              <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
          </tr>
          {% endifequal %}
          {% endfor %}
          </tbody>
        </table>

        </div>

       <div  role="tabpanel" class="tab-pane fade in" id="ROCKIES">
          <table class="table table-striped" >
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:7%">Name</th>
                <th style="width:2%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:10%">Owner</th>
                <th style="width:10%">User</th> 
                <th style="width:15%">Model</th>
                <th style="width:8%">Type</th>
                <th style="width:20%">Comments</th>
                <th style="width:10%">Status</th>
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
            </thead>
            <tbody>
              {% for device in devices4 %}
              {% ifequal device.isalive True %}
              <tr>
                <!-- <td>
                   {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                   <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}
                </td> -->
                <td><a href="#" onclick="alert('Spa: {{device.spa_ip}}\nSpb: {{device.spb_ip}}\nCs0: {{device.cs0_ip}}\nCs1: {{device.cs1_ip}}\nHostpc: {{device.hostpc_ip}}')">{{device.name}}  </a>
                {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}</td> <!--1-->
                <td><span class="devices4 hold-time">{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}
                  
                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  
                  {% endifequal %}
                </td>
        
            <td> {{device.model}}</td><!--4-->
                   
      
            <td> {{device.platform_type}}</td><!--5-->
      
           
      
            <td>  {{device.comment}} </td> <!--6-->
            
            <td>  {{device.status}}  </td><!--7-->
            <td>   
              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Rockies" style="text-decoration: none">
                  <button class="btn btn-primary btn-block" type="button">release</button></a>
                  

                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Rockies" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Rockies" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
              {% endif %}</td><!--8-->
              <td> 
            <a href="{% url 'mainLog'  device.id %}">         
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
          </tr>
          {% endifequal %}
          {% endfor %}
          
            </tbody>
          </table>
       </div>

      <div  role="tabpanel" class="tab-pane fade in" id="BEARCAT">
          <table class="table table-striped" >
            <thead>
              <tr>
                <!-- <th style="width:1%"> </th> -->
                <th style="width:7%">Name</th>
                <th style="width:2%">Days</th>
                <th style="width:8%"> </th>
                <th style="width:10%">Owner</th>
                <th style="width:10%">User</th> 
                <th style="width:10%">DVT/EVT</th>
                <th style="width:10%">12/25 Drive</th>
                <!-- <th style="width:15%">Ip</th> -->
                <th style="width:20%">Comments</th>
                <th style="width:10%">Status</th> 
                <th style="width:8%">Action</th>
                <th style="width:5%">Log</th>
              </tr>
            </thead>
            <tbody>
             {% for device in devices3 %}
             {% ifequal device.isalive True %}
              <tr>
                <!-- <td>
                   {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                   <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}
                </td> -->
                <td><a href="#" onclick="alert('Spa: {{device.spa_ip}}\nSpb: {{device.spb_ip}}\nSpa BMC: {{device.bmc_spa_ip}}\nSpb BMC: {{device.bmc_spb_ip}}\nMgmt: {{device.mgmt_ip}}')">{{device.name}}  </a>
                {% ifequal device.owner None %}
                   {% ifequal device.lock True %}  
                     <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                   {% endifequal %}
                  {% endifequal %}</td> <!--1-->
                <td><span class="hold-time devices3">{{device.holdingTime}}</span></td>
                <td> </td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                
                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}
                  
                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}} </span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  
                  {% endifequal %}
                </td>
        
            <td> {{device.dvt_evt}}</td><!--4-->
                   
      
            <td> {{device.drive_1225}}</td><!--5-->
      
            <!-- <td>  <!--6--> 
           <!--  mgmt:{{device.mgmt_ip}}<br>
            spa:{{device.spa_ip}}<br>
            spb:{{device.spb_ip}}<br>
            spa bmc:{{device.bmc_spa_ip}}<br>
            spb bmc:{{device.bmc_spb_ip}}<br>
            </td> -->
      
            <td>  {{device.comment}} </td> <!--7-->
            
            <td>  {{device.status}}  </td><!--8-->
            <td>   
              {% if device.owner  %}
              {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Bearcat" style="text-decoration: none">
                  <button class="btn btn-primary btn-block" type="button">release</button></a>
                  

                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Bearcat" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Bearcat" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
              {% endif %} </td><!--9-->
              <td> 
            <a href="{% url 'mainLog'  device.id %}">         
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
          </tr>
          {% endifequal %}
          {% endfor %}
            </tbody>
        </table>
      </div> 



      <div  role="tabpanel" class="tab-pane fade in " id="SERVER">
                <table class="table table-striped"   id="tabserver">
                  <thead>
                    <tr>
                      <th style="width:8%">Name</th>
                      <th style="width:15%">Port</th>
                      <th style="width:15%">Owner</th>
                      <th style="width:15%">User</th>
                      <th style="width:35%">Comments</th>
                      <th style="width:8%">Action</th>
                      <th style="width:5%">Log</th>
                    </tr>
                  </thead>
                  <tbody >
              {% for device in devices7 %}
              {% ifequal device.isalive True %}
              <tr>
                <td style="border-right:1px solid #d0d0d0"><a href="#" onclick="alert('IP: {{device.hostpc_ip}}\nOS: {{device.server_os}}\nLocation: {{device.Device_location}}')">
                  {{device.name}}
                 </a></td> <!--1-->
                <td>
                  {% ifnotequal device.port None%}
                     {{device.port}}
                  {% endifnotequal %}
                  {% ifequal device.owner None %}
                    {% ifequal device.lock True %}  
                      <span class="glyphicon glyphicon-lock" title="This device is locked, please contact the User to reserve."></span>
                    {% endifequal %}
                  {% endifequal %}</td>
                {% ifequal device.owner currentuser %}
                <td>
                  <select data-width="fit" data-live-search="true" class="selectpicker" onchange="transfer(this.value,'{{device.id}}')">
                      <option value="{{device.owner.get_full_name}}" selected="selected">{{device.owner.get_full_name}}</option>
                      {% for user in users %}
                      <option value="{{user}}">{{user}}</option>
                      {% endfor %}
                    </select>
                </td>
                {% else %}
                <td>{{device.owner.get_full_name}}</td> <!--2-->
                {% endifequal %}
                
                <td>   <!--3-->
                  {% ifequal device.owner currentuser %}
                  
                    <span class="showspan1" style="width:20px;text-align:left;display:inline-block;">{{device.user}}</span>
                    <span class = "hidespan" style="display:none">
                      <form class="input-group" action="{% url 'changeuser' device.id %}" method="POST">
                        {% csrf_token %}
                        <input type="text" class="form-control-user" value="{{device.user}}" name="user"/>
                        <span class="input-group-btn">
                          </a><button type="submit" class="btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                          <button type="button" class="btn dropbtn"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </span>
                        </form>
                    </span>
                    <span style="float:right" class="showspan">
                      <button type="button" class="btn" style="position:fix;right: 10px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>  
                    </span>
                  {% else %}
                  {{device.user}}
                  
                  {% endifequal %}
                </td>
        
                <td> <!--4-->
                  {% ifequal currentuser.pk 1 %}
                    {{device.comment}}
                  {% endifequal %}
               </td>
      
            <td> <!--5-->
              
              {% if device.owner  %}
                {% ifequal device.owner currentuser %}
                  <a href="result?id={{device.id}}&action=2&tab=Server" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a>
                  <!--a href="result?id={{device.id}}&action=2" style="text-decoration: none"><button class="btn btn-primary btn-block" type="button">release</button></a-->
                {% else %}
                  <a href="result?id={{device.id}}&action=1&tab=Server" style="text-decoration: none"><button class="btn btn-warning btn-block" type="button">want</button></a>
                {% endifequal %}
              {% else %}
                  {% ifequal device.lock True %}  
                   <button class="btn btn-success btn-block" disabled="disabled" type="button">reserve</button>
                   {% else %}
                   <a href="result?id={{device.id}}&action=0&tab=Server" style="text-decoration: none"><button class="btn btn-success btn-block" type="button">reserve</button></a>
                  {% endifequal %}
                  <!-- <a href="result?id={{device.id}}&action=0&tab=Oberon" style="text-decoration: none"><button class="btn btn-success btn=block" type="button">reserv</button></a> -->
              {% endif %}                            
            </td>
      
            <td>  <!--6-->
            <a href="{% url 'mainLog'  device.id %}">         
            <button class="btn" type="button" ><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span></button></a>
            </td>
          </tr>
          {% endifequal %}
          {% endfor %}

                  </tbody>
              </table>
          </div> 



      <div  role="tabpanel" class="tab-pane fade in" id="SLICSFP">
       {% ifequal currentuser.pk 1 %}
        <form method="post" action = "/labsmith/releaseNumber/" id="slicsfpForm" class="form-signin"  >
        {% csrf_token %}
          <input type="hidden" id="slicsfpNum" name="slicsfpNum">
          <input type="hidden" id="deviceId" name="deviceId">
          <input type="hidden" id="info" name="info">
        </form>
       {% else %}
        <form method="post" action = "/labsmith/reserveNumber/" id="slicsfpForm" class="form-signin"  >
        {% csrf_token %}
          <input type="hidden" id="slicsfpNum" name="slicsfpNum">
          <input type="hidden" id="deviceId" name="deviceId">
        </form>
        {% endifequal %}

          <table class="table table-striped" >
            <thead>
              {% if errors %}
                {{ errors }}
              {% endif %}
              <tr>
                <!-- <th style="width:5%">No.</th> -->
                <th style="width:15%">Model</th>
                <th style="width:12%">P/N</th>
                <th style="width:30%">Remarks</th>
                <th style="width:15%">Total Number</th>
                <th style="width:15%">Reserved Number</th>
                <th style="width:5%"></th>
                <th style="width:8%">Action</th> 
              </tr>
            </thead>
            <tbody>
              {% for device in devices6 %}
              <tr>
                <td>{{device.model_name}} </td> <!--2-->
                <td>{{device.PN}} </td><!--3-->
                <td>
                  {% ifequal currentuser.pk 1 %}
                    <input type="text" class="form-control-user" placeholder="e.g. Joe returned 1, ..." required="required">
                    <div style="display:none;color:red">Please enter remarks(e.g. Joe returned 1, ...)</div>
                  {% else %}
                    {{device.comment}} 
                  {% endifequal %}

                </td><!--4-->
                <td>{{device.total_number}} </td><!--5-->
                <td>{{device.reserved_number}} </td><!--6-->
                <td> 
                
                <div class="col-lg-30">
                    <div class="input-group">

                     {% ifequal currentuser.pk 1 %}
                       <span class="input-group-btn">
                        <button class="btn btn-primary minusNum" ><span class="glyphicon glyphicon-minus" ></span></button> 
                       </span>
                       <input type="text" style="width:43px;height:34px;text-align:center" value="0">
                       <span class="input-group-btn">
                          <button class="btn btn-primary plusNum" ><span class="glyphicon glyphicon-plus" ></span></button>
                       </span>
                     {% else %}

                       <span class="input-group-btn">
                         <button class="btn btn-success minusNum"><span class="glyphicon glyphicon-minus" ></span></button> 
                       </span>

                       <input type="text" style="width:43px;height:34px;text-align:center" value="0">
                       <span class="input-group-btn">
                          <button class="btn btn-success plusNum" ><span class="glyphicon glyphicon-plus" ></span></button>
                       </span>
                       
                     {% endifequal %}
                   </div>
                 </div>  
            
              <!-- <form method="post" action = "/labsmith/reserveNumber/" class="form-signin"  >
                  {% csrf_token %}
                        <input type="Text" class="form-control" style="width:60px;" value="0" name="reserveNumber">
                 <td><div>
                     <button class="btn btn-primary btn-block" type="submit">reserve</button>
                 </div>
               </td>
                                    
              </form> -->


              </td><!--7-->  
             
                <td>
                  {% ifequal currentuser.pk 1 %}                                           
                      <button deviceId="{{device.id}}" class="btn btn-primary btn-block releaseSubmit" type="button">release</button>
                  {% else %}
                      <button deviceId="{{device.id}}" class="btn btn-success btn-block reserveSubmit" type="button">reserve</button>
                  {% endifequal %}
                 </td>

              </tr>
              {% endfor %}
            </tbody>
        </table>
      </div>

   </div> 
</div>


<div style="position:fixed; bottom:0px; width:100%; text-align:center;background-color:#DCDCDC;">Copyright &copy 2015.EMC<sup>2</sup> All rights reserved.</div> 
<!-- <div id="copyright" class="container">
  <p>Copyright &copy; 2015.EMC<sup>2</sup> All rights reserved.</p>
</div> -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!--script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script-->
      <script type="text/javascript" src="../static/index_files/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{% static 'index_files/bootstrap.min.js' %}"></script>
    <!--script src="/bootstrap/js/bootstrap.min.js"></script-->
    <script type="text/javascript" src="../static/index_files/flavr.min.js"></script>


    <script type="text/javascript">
      $(document).ready(function(){
        var tabOption = $('#tab-option-input').val();
        if(tabOption == 'PDU|SWITCH'){
          $('#PDU-tab-li').addClass('active');
          $('#PDU').addClass('active');
        }else if(tabOption == 'Oberon'){
          $('#OB-tab-li').addClass('active');
          $('#OB').addClass('active');
        }else if(tabOption == 'Beachcomber'){
          $('#BC-tab-li').addClass('active');
          $('#BC').addClass('active');
        }else if(tabOption == 'Rockies'){
          $('#ROCKIES-tab-li').addClass('active');
          $('#ROCKIES').addClass('active');
        }else if(tabOption == 'Bearcat'){
          $('#BEARCAT-tab-li').addClass('active');
          $('#BEARCAT').addClass('active');
        }else if(tabOption == 'SLIC|SFP'){
          $('#SLICSFP-tab-li').addClass('active');
          $('#SLICSFP').addClass('active');
        }else if(tabOption == 'Server'){
          $('#SERVER-tab-li').addClass('active');
          $('#SERVER').addClass('active');
        }else if(tabOption == 'DAE'){
          $('#OB-DAE-tab-li').addClass('active');
          $('#OB-DAE').addClass('active');
        }else if(tabOption == 'HOST/IP'){
          $('#HOST-IP-tab-li').addClass('active');
          $('#HOST-IP').addClass('active');
        }
        <!--This is for the holdingTime fuction-->
        $('.hold-time').each(function(){
           var holdingTime=$(this).text();
           if(parseInt(0)<=parseInt(holdingTime) && parseInt(holdingTime)<parseInt(10)){
            $(this).addClass('btn btn-default btn-block');
           }else if(parseInt(holdingTime)>=parseInt(10) && parseInt(holdingTime)<parseInt(30)){
             $(this).addClass('btn btn-default btn-block');
           }else if(parseInt(holdingTime)>=parseInt(30)) {
            $(this).addClass('btn btn-danger btn-block');
           }else{
            $(this).addClass('');
           }
        })
        $('.devices10').each(function(){
           var holdingTime=$(this).text();
           if(parseInt(0)<=parseInt(holdingTime) && parseInt(holdingTime)<parseInt(7)){
            $(this).addClass('btn btn-default btn-block');
           }else if(parseInt(holdingTime)>=parseInt(7)) {
            $(this).addClass('btn btn-danger btn-block');
           }else{
            $(this).addClass('');
           }
        })

        $(".showspan").click(function(){
          $(this).parent().children("span.hidespan").show();
          $(this).parent().children("span.showspan1").hide();
          $(this).hide();
        })
        $(".dropbtn").click(function(){
          $(this).parent().parent().children("input.form-control").val($(this).parent().parent().parent().parent().children("span.showspan1").text());
          $(this).parent().parent().parent().parent().children("span.showspan").show();
          $(this).parent().parent().parent().parent().children("span.showspan1").show();
          $(this).parent().parent().parent().hide();
        })

      });
    </script>

    <script type="text/javascript"> 
       
         function _w_table_rowspan(_w_table_id,_w_table_colnum){
          _w_table_firsttd = "";
          _w_table_currenttd = "";
          _w_table_SpanNum = 0;
          _w_table_Obj = $(_w_table_id + " tr td:nth-child(" + _w_table_colnum + ")");
          _w_table_Obj.each(function(i){
            if(i==0){
              _w_table_firsttd = $(this);
              _w_table_SpanNum = 1;
            }else{
              _w_table_currenttd = $(this);
              if(_w_table_firsttd.text()==_w_table_currenttd.text()){
                _w_table_SpanNum++;
                _w_table_currenttd.hide(); //remove();
                _w_table_firsttd.attr("rowSpan",_w_table_SpanNum);
              }else{
                _w_table_firsttd = $(this);
                _w_table_SpanNum = 1;
              }
            }
          }); 
        }
        $(document).ready(function(){ 
         // _w_table_rowspan("#process",4);
         // _w_table_rowspan("#process",3);
         _w_table_rowspan("#tabpduswitch",1);
         _w_table_rowspan("#tabserver",1);

 });
       <!--This is for the transfer fuction-->
       function transfer(name,device_id){
          //var name = document.getElementById("select_num");
          //var index = obj.selectedIndex; // 选中索引
          //var text = obj.options[index].text; // 选中文本
          new $.flavr({
          content     : 'You will transfer the machine to '+name,
          dialog      : 'confirm',
          buttons     : {

                        success : { text: 'Confirm', style: 'success',

                                    action: function(){

                                        window.location.href="result?id="+device_id+"&action="+name;

                                        return false;

                                    }

                        },
                        close   : { text: 'Cancel', style: 'default' ,
                                     action: function(){
                                     window.location.href="/labsmith/"
                                    }
                        }

                        }


});

}



</script>
<script type="text/javascript">


</script>
      </div>
  </body>
</html>

